(this.webpackJsonpworld_vaccination=this.webpackJsonpworld_vaccination||[]).push([[0],{121:function(t,e,n){},123:function(t,e,n){},176:function(t,e,n){"use strict";n.r(e);var c=n(4),a=n.n(c),r=n(21),i=n.n(r),s=(n(121),n(5)),o=n.n(s),l=n(44),d=n(18),u=(n(123),n(6)),p=n(46),j=n(14),f=n.n(j),h=n(3),b=function(t){var e,n,a=t.parentSelectedCountryCallback,r=t.currentDate,i=t.currentVaccinationData,s=Object(c.useRef)(),o=Object(c.useRef)(),l=[],j=1e3,b=900,m=u.a().scale(150).translate([500,450]),y=u.b(m),v=u.d().domain([0,100]).range([.55,1]),O=f()(r,"yyyy-mm-dd");function x(t){var e,c,r,i=Object(u.e)(s.current).select("#mapGroup");if(t&&n!==t){var o=y.centroid(t);e=o[0],c=o[1],r=4,n=t}else e=500,c=450,r=1,n=null;i.selectAll("path").classed("active",n&&function(t){return t===n}).call((function(e){a(l[t.id],!(!n||!function(t){return t===n}))})),i.transition().duration(750).attr("transform","translate(500,450)scale("+r+")translate("+-e+","+-c+")").style("stroke-width",1.5/r+"px")}return Object(c.useEffect)((function(){u.f("svg > *").remove(),void 0!==i&&(e=i.filter((function(t){return O==t.data[2]})));var t=Object(u.e)(s.current),n=Object(u.e)(o.current);t.append("rect").attr("id","mapBackground").attr("width",j).attr("height",b).on("click",x);var c=t.append("g").attr("id","mapGroup");Promise.all([u.c("https://cdn.rawgit.com/mbostock/4090846/raw/d534aba169207548a8a3d670c9c2cc719ff05c47/world-110m.json"),u.g("https://cdn.rawgit.com/mbostock/4090846/raw/d534aba169207548a8a3d670c9c2cc719ff05c47/world-country-names.tsv")]).then((function(t){var a=Object(d.a)(t,2),r=a[0],i=a[1],s=p.a(r,r.objects.countries).features;i.forEach((function(t){l[t.id]=t.name})),c.append("g").attr("class","country").selectAll(".country").data(s).enter().append("path").attr("d",y).attr("id",(function(t){return t.id})).style("opacity",(function(t){return function(t){if(void 0===e||0==e.length||void 0===t);else{var n=e.filter((function(e){return t.toLowerCase().replace(/ /g,"").includes(e.data[0].toLowerCase().replace(/ /g,""))})).map((function(t){return t.data}));if(void 0===n||0==n.length||0==n);else{var c=n[0],a=Math.round(c[8]);if(0!==a&&void 0!==a)return v(a)}}return.2}(l[t.id])})).on("click",(function(t,e){x(e)})).on("mouseover",(function(t,e){return u.e(this).attr("fill","grey").attr("stroke-width",2),n.classed("hidden",!1).html(l[e.id])})).on("mousemove",(function(t,e){n.classed("hidden",!1).style("top",t.y+"px").style("left",t.x+10+"px").html(l[e.id])})).on("mouseout",(function(t,e){u.e(this).attr("fill","red").attr("stroke-width",1),n.classed("hidden",!0)})),c.append("path").datum(p.b(r,r.objects.countries,(function(t,e){return t!==e}))).attr("id","country-borders").attr("d",y)})).catch((function(t){return console.log("Error loading or parsing data.")}))}),[r,i]),Object(h.jsxs)("div",{className:"mapContainer",children:[Object(h.jsx)("svg",{ref:s,width:j,height:b,className:"worldMap",children:" "}),Object(h.jsx)("div",{ref:o,className:"mapTooltip"})]})},m=n.p+"static/media/country_vaccinations.1225a9ef.csv",y=n(69),v=n.n(y),O=function(t){var e=t.parentCountryDataCallback;return Object(c.useEffect)((function(){var t=[];v.a.parse(m,{download:!0,step:function(e){t.push(e)},complete:function(){e(t)}})}),[]),Object(h.jsx)("div",{})},x=(n(66),function(t){var e=t.countryData,n=t.currentDate,c=f()(n,"yyyy-mm-dd"),a=new Array(15).fill(" ");function r(){return"No data for "+c}return void 0===e||0===e.length?a=new Array(15).fill(" "):void 0!==(a=e.find((function(t){return t[2]===c})))&&0!==a.length||(a=new Array(15).fill("")),Object(h.jsxs)("div",{className:"row mt-5 countryDailyInformations",children:[Object(h.jsx)("h2",{className:"col-6 ml-3 mb-4",children:"Daily information"}),Object(h.jsxs)("div",{className:"col-12 daily-informations-preview",children:[Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Country: "]}),a[0]?a[0]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Iso: "]})," ",a[1]?a[1]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Date: "]})," ",a[2]?a[2]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Total vaccinations: "]})," ",a[3]?a[3]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","People vaccinated: "]})," ",a[4]?a[4]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","People fully vaccinated: "]})," ",a[5]?a[5]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Daily vaccinations raw: "]})," ",a[6]?a[6]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Daily vaccinations: "]})," ",a[7]?a[7]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Total vaccinations per hundred (in percent): "]})," ",a[8]?a[8]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","People vaccinated per hundred (in percent): "]})," ",a[9]?a[9]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","People fully vaccinated per hundred (in percent): "]})," ",a[10]?a[10]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Daily vaccinations per million (in ppm): "]})," ",a[11]?a[11]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Vaccines: "]})," ",a[12]?a[12]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Source name: "]})," ",a[13]?a[13]:r()," "]}),Object(h.jsxs)("p",{children:[" ",Object(h.jsxs)("span",{style:{fontWeight:"bold"},children:[" ","Source website: "]})," ",a[14]?a[14]:r()," "]})]})]})}),g=n(71),w=n.n(g),D=(n(125),n(70)),k=n.n(D),C=(n(126),function(t){var e=t.countryData;if(void 0!==e){var n=e.filter((function(t){return""!==t[3]&&void 0!==t[3]&&""!==t[4]&&void 0!==t[4]&&""!==t[5]&&void 0!==t[5]})),c=n.map((function(t){return t[2]})),r=n.map((function(t){return t[3]})),i=n.map((function(t){return t[4]})),s=n.map((function(t){return t[5]}));r=["Total vaccinations"].concat(r),i=["People vaccinated"].concat(i),s=["People fully vaccinated"].concat(s);var o=["x"].concat(c)}return a.a.useEffect((function(){void 0!==e&&k.a.generate({size:{height:600},bindto:"#chart",data:{x:"x",columns:[o,r,i,s],type:"area"},zoom:{enabled:!0},axis:{x:{label:{text:"Vaccination days",position:"outer-center"},type:"timeseries",tick:{format:function(t){return f()(t,"dd/mm/yyyy")},fit:!0,values:c,rotate:75,multiline:!1},height:130},y:{label:{text:"Number of people",position:"outer-center"},padding:{top:100,bottom:100}}}})}),[e]),Object(h.jsx)("div",{className:"pt-5 row",id:"chart"})});var W=function(){var t,e=Object(c.useState)(new Date),n=Object(d.a)(e,2),a=n[0],r=n[1],i=Object(c.useState)(),s=Object(d.a)(i,2),u=s[0],p=s[1],j=Object(c.useState)(),f=Object(d.a)(j,2),m=f[0],y=f[1];function v(){return(v=Object(l.a)(o.a.mark((function e(n,c){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===(t=n)||!1===c?p([]):(a=m.filter((function(e){return t.toLowerCase().replace(/ /g,"").includes(e.data[0].toLowerCase().replace(/ /g,""))})).map((function(t){return t.data})),p(a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(l.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"App p-3",children:Object(h.jsxs)("div",{className:"appContent",children:[Object(h.jsx)(b,{parentSelectedCountryCallback:function(t,e){return v.apply(this,arguments)},currentDate:a,currentVaccinationData:m}),Object(h.jsx)(O,{parentCountryDataCallback:function(t){return g.apply(this,arguments)}}),Object(h.jsxs)("div",{className:"row justify-content-center",children:[Object(h.jsx)("h1",{className:"col-6 mt-5",children:" Pick a date"}),Object(h.jsx)(w.a,{selected:a,onChange:function(t){return function(t){r(t),p([])}(t)},className:"date-picker col-6 mt-5"})]}),Object(h.jsx)(x,{countryData:u,currentDate:a,children:" "}),Object(h.jsx)(C,{countryData:u,children:" "})]})})},N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,183)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(W,{})}),document.getElementById("root")),N()}},[[176,1,2]]]);
//# sourceMappingURL=main.96dcf6f7.chunk.js.map