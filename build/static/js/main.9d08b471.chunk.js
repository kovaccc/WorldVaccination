(this.webpackJsonpworld_vaccination=this.webpackJsonpworld_vaccination||[]).push([[0],{107:function(t,e,n){},108:function(t,e,n){},162:function(t,e,n){"use strict";n.r(e);var c=n(4),a=n.n(c),r=n(17),i=n.n(r),s=(n(107),n(20)),o=(n(108),n(6)),l=n(43),d=n(3),u=function(t){var e,n=t.parentSelectedCountryCallback,a=Object(c.useRef)(),r=Object(c.useRef)(),i=[],u=1e3,j=900,b=o.a().scale(150).translate([500,450]),p=o.b(b);function h(t){var c,r,s,l=Object(o.d)(a.current).select("#mapGroup");if(t&&e!==t){var d=p.centroid(t);c=d[0],r=d[1],s=4,e=t}else c=500,r=450,s=1,e=null;l.selectAll("path").classed("active",e&&function(t){return t===e}).call((function(c){n(i[t.id],!(!e||!function(t){return t===e}))})),l.transition().duration(750).attr("transform","translate(500,450)scale("+s+")translate("+-c+","+-r+")").style("stroke-width",1.5/s+"px")}return Object(c.useEffect)((function(){var t=Object(o.d)(a.current),e=Object(o.d)(r.current);t.append("rect").attr("id","mapBackground").attr("width",u).attr("height",j).on("click",h);var n=t.append("g").attr("id","mapGroup");Promise.all([o.c("https://cdn.rawgit.com/mbostock/4090846/raw/d534aba169207548a8a3d670c9c2cc719ff05c47/world-110m.json"),o.e("https://cdn.rawgit.com/mbostock/4090846/raw/d534aba169207548a8a3d670c9c2cc719ff05c47/world-country-names.tsv")]).then((function(t){var c=Object(s.a)(t,2),a=c[0],r=c[1],d=l.a(a,a.objects.countries).features;r.forEach((function(t){i[t.id]=t.name})),n.append("g").attr("class","country").selectAll(".country").data(d).enter().append("path").attr("d",p).attr("id",(function(t){return t.id})).on("click",(function(t,e){h(e)})).on("mouseover",(function(t,n){return o.d(this).attr("fill","grey").attr("stroke-width",2),e.classed("hidden",!1).html(i[n.id])})).on("mousemove",(function(t,n){e.classed("hidden",!1).style("top",t.y+"px").style("left",t.x+10+"px").html(i[n.id])})).on("mouseout",(function(t,n){o.d(this).attr("fill","#aaa").attr("stroke-width",1),e.classed("hidden",!0)})),n.append("path").datum(l.b(a,a.objects.countries,(function(t,e){return t!==e}))).attr("id","country-borders").attr("d",p)})).catch((function(t){return console.log("Error loading or parsing data.")}))}),[]),Object(d.jsxs)("div",{className:"mapContainer",children:[Object(d.jsx)("svg",{ref:a,width:u,height:j,className:"worldMap",children:" "}),Object(d.jsx)("div",{ref:r,className:"mapTooltip"})]})},j=n.p+"static/media/country_vaccinations.1225a9ef.csv",b=n(62),p=n.n(b),h=function(t){var e=t.parentCountryDataCallback;return Object(c.useEffect)((function(){var t=[];p.a.parse(j,{download:!0,step:function(e){t.push(e)},complete:function(){e(t)}})}),[]),Object(d.jsx)("div",{})},f=n(24),m=n.n(f),O=(n(59),function(t){var e=t.countryData,n=t.currentDate,c=m()(n,"yyyy-mm-dd"),a=new Array(15).fill(" ");function r(){return"No data for "+c}return void 0===e||0===e.length?a=new Array(15).fill(" "):void 0!==(a=e.find((function(t){return t[2]===c})))&&0!==a.length||(a=new Array(15).fill("")),Object(d.jsxs)("div",{className:"row mt-5 countryDailyInformations",children:[Object(d.jsx)("h2",{className:"col-5 ml-3 mb-4",children:"Daily information"}),Object(d.jsxs)("div",{className:"col-12 daily-informations-preview",children:[Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Country: "]})," ",a[0]?a[0]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Iso: "]})," ",a[1]?a[1]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Date: "]})," ",a[2]?a[2]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Total vaccinations: "]})," ",a[3]?a[3]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","People vaccinated: "]})," ",a[4]?a[4]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","People fully vaccinated: "]})," ",a[5]?a[5]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Daily vaccinations raw: "]})," ",a[6]?a[6]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Daily vaccinations: "]})," ",a[7]?a[7]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Total vaccinations per hundred (in percent): "]})," ",a[8]?a[8]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","People vaccinated per hundred (in percent): "]})," ",a[9]?a[9]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","People fully vaccinated per hundred (in percent): "]})," ",a[10]?a[10]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Daily vaccinations per million (in ppm): "]})," ",a[11]?a[11]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Vaccines: "]})," ",a[12]?a[12]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Source name: "]})," ",a[13]?a[13]:r()," "]}),Object(d.jsxs)("p",{children:[" ",Object(d.jsxs)("b",{children:[" ","Source website: "]})," ",a[14]?a[14]:r()," "]})]})]})}),x=n(64),v=n.n(x),y=(n(111),n(63)),w=n.n(y),g=(n(112),function(t){var e=t.countryData;if(void 0!==e){var n=e.filter((function(t){return""!==t[3]&&void 0!==t[3]&&""!==t[4]&&void 0!==t[4]&&""!==t[5]&&void 0!==t[5]})),c=n.map((function(t){return t[2]})),r=n.map((function(t){return t[3]})),i=n.map((function(t){return t[4]})),s=n.map((function(t){return t[5]}));r=["Total vaccinations"].concat(r),i=["People vaccinated"].concat(i),s=["People fully vaccinated"].concat(s);var o=["x"].concat(c)}return a.a.useEffect((function(){void 0!==e&&w.a.generate({size:{height:600},bindto:"#chart",data:{x:"x",columns:[o,r,i,s],type:"area"},zoom:{enabled:!0},axis:{x:{label:{text:"Vaccination days",position:"outer-center"},type:"timeseries",tick:{format:function(t){return m()(t,"dd/mm/yyyy")},fit:!0,values:c,rotate:75,multiline:!1},height:130},y:{label:{text:"Number of people",position:"outer-center"},padding:{top:100,bottom:100}}}})}),[e]),Object(d.jsx)("div",{className:"pt-5 row",id:"chart"})});var k=function(){var t,e=Object(c.useState)(new Date),n=Object(s.a)(e,2),a=n[0],r=n[1],i=Object(c.useState)(),o=Object(s.a)(i,2),l=o[0],j=o[1],b=[];return Object(d.jsx)("div",{className:"App p-3",children:Object(d.jsxs)("div",{className:"appContent",children:[Object(d.jsx)(u,{parentSelectedCountryCallback:function(e,n){if(void 0===(t=e)||!1===n)j([]);else{var c=b.filter((function(e){return t.toLowerCase().replace(/ /g,"").includes(e.data[0].toLowerCase().replace(/ /g,""))})).map((function(t){return t.data}));j(c)}}}),Object(d.jsx)(h,{parentCountryDataCallback:function(t){b=t}}),Object(d.jsxs)("div",{className:"row justify-content-center",children:[Object(d.jsx)("h1",{className:"col-4 mt-5",children:" Pick a date"}),Object(d.jsx)(v.a,{selected:a,onChange:function(t){return r(t)},className:"date-picker col-8 mt-5"})]}),Object(d.jsx)(O,{countryData:l,currentDate:a,children:" "}),Object(d.jsx)(g,{countryData:l,children:" "})]})})},C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root")),C()}},[[162,1,2]]]);
//# sourceMappingURL=main.9d08b471.chunk.js.map